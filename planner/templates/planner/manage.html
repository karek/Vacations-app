{% extends "planner/index.html" %}

{% block selected_absence_panel %}
        <h2 id="right-panel-header">Absence Manager</h2>
        <form id='plan-absence' method='GET' action="{% url 'planner:manage-absences' %}">
            {% if accept_absence %}
            <input type="hidden" name="absence-id" value="{{ accept_absence.id }}"/>
            {% endif %}
            {% include 'planner/planning_controls.html' %}
        </form>
{% endblock %}

{% block scripts %}
{{ block.super }}
<script type="text/javascript">
    global_manage_mode = true;
    {% if accept_absence %}
        {% autoescape off %}
        global_accept_absence_id = {{ accept_absence.id }};
        {% endautoescape %}
    {% endif %}
</script>
{% endblock %}

{% block calendarDeclaration %}
{{ block.super }}
<script type="text/javascript">
    {% if accept_absence %}
        {% autoescape off %}
        select_ranges_from_json({{ accept_ranges }});
        {% endautoescape %}
    {% endif %}
</script>
{% endblock %}
